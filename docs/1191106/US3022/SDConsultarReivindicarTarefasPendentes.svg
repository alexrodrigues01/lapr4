<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2176px" preserveAspectRatio="none" style="width:3009px;height:2176px;background:#FFFFFF;" version="1.1" viewBox="0 0 3009 2176" width="3009px" zoomAndPan="magnify"><defs><filter height="300%" id="f14vl8w3qj0f1t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="1979.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="57.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="1566.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="327.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="1744.3203"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="737.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="737.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="912.2891"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="297.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="1774.6719"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="910" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="910" y="942.6406"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1048" y="243.0156"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1048" y="1002.9922"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184" y="303.3672"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184" y="1063.3438"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1293" y="363.7188"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1293" y="1123.6953"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1421.5" y="424.0703"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1421.5" y="1184.0469"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1568.5" y="454.4219"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1568.5" y="1214.3984"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="484.7734"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="575.4766"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="1244.75"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="1335.4531"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="100.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1821.5" y="661.1797"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="100.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1821.5" y="1421.1563"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1963.5" y="716.8828"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1963.5" y="1476.8594"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2094" y="784.2344"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2094" y="1830.375"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2094" y="1890.7266"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="1544.2109"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="1966.9141"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="2027.2656"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2366" y="814.5859"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2524.5" y="1574.5625"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="262.4609" style="stroke:#000000;stroke-width:2.0;" width="1942.5" x="514.5" y="620.4766"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="269.5" x="1768.5" y="676.1797"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="262.4609" style="stroke:#000000;stroke-width:2.0;" width="2097.5" x="514.5" y="1380.4531"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="269.5" x="1768.5" y="1436.1563"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="368.6484" style="stroke:#000000;stroke-width:2.0;" width="2295" x="10" y="1703.6172"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="275.5938" style="stroke:#000000;stroke-width:2.0;" width="1780.5" x="514.5" y="1789.6719"/><rect fill="#FFFFFF" height="136.5391" style="stroke:none;stroke-width:1.0;" width="1780.5" x="514.5" y="1928.7266"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="62" x2="62" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="300.5" x2="300.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="688.5" x2="688.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="914.5" x2="914.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1052.5" x2="1052.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1188.5" x2="1188.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1297.5" x2="1297.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1426.5" x2="1426.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1573.5" x2="1573.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1709.5" x2="1709.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1826.5" x2="1826.5" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1968" x2="1968" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2099" x2="2099" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2227" x2="2227" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2371" x2="2371" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2529" x2="2529" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2708" x2="2708" y1="89.6094" y2="2089.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2906" x2="2906" y1="89.6094" y2="2089.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="20" y="86.5332">Colaborador</text><ellipse cx="62.5" cy="15" fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M62.5,23 L62.5,50 M49.5,31 L75.5,31 M62.5,50 L49.5,65 M62.5,50 L75.5,65 " fill="none" filter="url(#f14vl8w3qj0f1t)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="20" y="2102.7988">Colaborador</text><ellipse cx="62.5" cy="2115.875" fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M62.5,2123.875 L62.5,2150.875 M49.5,2131.875 L75.5,2131.875 M62.5,2150.875 L49.5,2165.875 M62.5,2150.875 L75.5,2165.875 " fill="none" filter="url(#f14vl8w3qj0f1t)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="274" x="161.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="243" y="56.9238">&lt;&lt;presentation&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="168.5" y="74.5332">ConsultarReivindicarTarefasPendentesUI</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="274" x="161.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="243" y="2109.7988">&lt;&lt;presentation&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="168.5" y="2127.4082">ConsultarReivindicarTarefasPendentesUI</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="324" x="524.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="636.5" y="56.9238">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="531.5" y="74.5332">ConsultarReivindicarTarefasPendentesController</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="324" x="524.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="636.5" y="2109.7988">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="531.5" y="2127.4082">ConsultarReivindicarTarefasPendentesController</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="101" x="862.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="869.5" y="74.5332">AuthzRegistry</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="101" x="862.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="869.5" y="2109.7988">AuthzRegistry</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="147" x="977.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1032" y="56.9238">authz:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="988.5" y="74.5332">AuthorizationService</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="147" x="977.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1032" y="2109.7988">authz:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="988.5" y="2127.4082">AuthorizationService</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1138.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1148" y="56.9238">userSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1145.5" y="74.5332">:UserSession</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="97" x="1138.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1148" y="2109.7988">userSession</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1145.5" y="2127.4082">:UserSession</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1249.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1257.5" y="56.9238">systemUser:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1260.5" y="74.5332">SystemUser</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1249.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1257.5" y="2109.7988">systemUser:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1260.5" y="2127.4082">SystemUser</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1356.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1372" y="56.9238">&lt;&lt;persistance&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1363.5" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1356.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1372" y="2109.7988">&lt;&lt;persistance&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1363.5" y="2127.4082">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1506.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1534" y="56.9238">&lt;&lt;factory&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1513.5" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1506.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1534" y="2109.7988">&lt;&lt;factory&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1513.5" y="2127.4082">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1659" y="68.9238">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1650.5" y="86.5332">PedidoRepository</text><path d="M1691.5,18.3906 C1691.5,8.3906 1709.5,8.3906 1709.5,8.3906 C1709.5,8.3906 1727.5,8.3906 1727.5,18.3906 L1727.5,44.3906 C1727.5,54.3906 1709.5,54.3906 1709.5,54.3906 C1709.5,54.3906 1691.5,54.3906 1691.5,44.3906 L1691.5,18.3906 " fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1691.5,18.3906 C1691.5,28.3906 1709.5,28.3906 1709.5,28.3906 C1709.5,28.3906 1727.5,28.3906 1727.5,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1659" y="2102.7988">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1650.5" y="2120.4082">PedidoRepository</text><path d="M1691.5,2133.4844 C1691.5,2123.4844 1709.5,2123.4844 1709.5,2123.4844 C1709.5,2123.4844 1727.5,2123.4844 1727.5,2133.4844 L1727.5,2159.4844 C1727.5,2169.4844 1709.5,2169.4844 1709.5,2169.4844 C1709.5,2169.4844 1691.5,2169.4844 1691.5,2159.4844 L1691.5,2133.4844 " fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1691.5,2133.4844 C1691.5,2143.4844 1709.5,2143.4844 1709.5,2143.4844 C1709.5,2143.4844 1727.5,2143.4844 1727.5,2133.4844 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1778.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1785.5" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1802.5" y="74.5332">Pedido</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1778.5" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1785.5" y="2109.7988">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1802.5" y="2127.4082">Pedido</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="1909" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1927.5" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1916" y="74.5332">FluxoResolucao</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="1909" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1927.5" y="2109.7988">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1916" y="2127.4082">FluxoResolucao</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="118" x="2038" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2058" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="2045" y="74.5332">TarefaAprovRes</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="118" x="2038" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2058" y="2109.7988">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="2045" y="2127.4082">TarefaAprovRes</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="111" x="2170" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2186.5" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="2177" y="74.5332">TarefaExecRes</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="111" x="2170" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2186.5" y="2109.7988">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="2177" y="2127.4082">TarefaExecRes</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="148" x="2295" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2330" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="2302" y="74.5332">TarefaAprovResDTO</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="148" x="2295" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2330" y="2109.7988">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="2302" y="2127.4082">TarefaAprovResDTO</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="141" x="2457" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2488.5" y="56.9238">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="2464" y="74.5332">TarefaExecResDTO</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="141" x="2457" y="2088.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="2488.5" y="2109.7988">&lt;&lt;domain&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="2464" y="2127.4082">TarefaExecResDTO</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="184" x="2616" y="31.3906"/><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="184" x="2612" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2645.5" y="56.9238">&lt;&lt;java interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="2623" y="74.5332">listaTarefasAprovResDTO</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="184" x="2616" y="2088.2656"/><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="184" x="2612" y="2092.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2645.5" y="2113.7988">&lt;&lt;java interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="2623" y="2131.4082">listaTarefasAprovResDTO</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="177" x="2818" y="31.3906"/><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="177" x="2814" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2844" y="56.9238">&lt;&lt;java interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="2825" y="74.5332">listaTarefasExecResDTO</text><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="177" x="2818" y="2088.2656"/><rect fill="#FEFECE" filter="url(#f14vl8w3qj0f1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="177" x="2814" y="2092.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2844" y="2113.7988">&lt;&lt;java interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="2825" y="2131.4082">listaTarefasExecResDTO</text><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="1979.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="57.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="1566.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="327.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="295.5" y="1744.3203"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="737.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="737.625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="912.2891"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="297.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="683.5" y="1774.6719"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="910" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="910" y="942.6406"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1048" y="243.0156"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1048" y="1002.9922"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184" y="303.3672"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1184" y="1063.3438"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1293" y="363.7188"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1293" y="1123.6953"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1421.5" y="424.0703"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1421.5" y="1184.0469"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1568.5" y="454.4219"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1568.5" y="1214.3984"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="484.7734"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="575.4766"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="1244.75"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1704.5" y="1335.4531"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="100.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1821.5" y="661.1797"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="100.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1821.5" y="1421.1563"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1963.5" y="716.8828"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1963.5" y="1476.8594"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2094" y="784.2344"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2094" y="1830.375"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2094" y="1890.7266"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="1544.2109"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="1966.9141"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2222.5" y="2027.2656"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2366" y="814.5859"/><rect fill="#FFFFFF" filter="url(#f14vl8w3qj0f1t)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2524.5" y="1574.5625"/><polygon fill="#A80036" points="283.5,117.9609,293.5,121.9609,283.5,125.9609,287.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="67.5" x2="289.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="74.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="85.5" y="117.1045">inicia o processo</text><polygon fill="#A80036" points="671.5,148.3125,681.5,152.3125,671.5,156.3125,675.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="677.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="312.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345" x="323.5" y="147.4561">listaTarefasAprovResDTO=getTarefasPendentesAprovacao()</text><polygon fill="#A80036" points="898,178.6641,908,182.6641,898,186.6641,902,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="904" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="700.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="711.5" y="177.8076">authz=authorizationService()</text><polygon fill="#A80036" points="1036,239.0156,1046,243.0156,1036,247.0156,1040,243.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1042" y1="243.0156" y2="243.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="700.5" y="238.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="711.5" y="238.1592">userSession=session()</text><polygon fill="#A80036" points="1172,299.3672,1182,303.3672,1172,307.3672,1176,303.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1178" y1="303.3672" y2="303.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="700.5" y="298.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="711.5" y="298.5107">systemUser=authenticatedUser()</text><polygon fill="#A80036" points="1281,359.7188,1291,363.7188,1281,367.7188,1285,363.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1287" y1="363.7188" y2="363.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="700.5" y="358.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="711.5" y="358.8623">email= email()</text><polygon fill="#A80036" points="1409.5,420.0703,1419.5,424.0703,1409.5,428.0703,1413.5,424.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1415.5" y1="424.0703" y2="424.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="700.5" y="419.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="711.5" y="419.2139">repositories()</text><polygon fill="#A80036" points="1556.5,450.4219,1566.5,454.4219,1556.5,458.4219,1560.5,454.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1431.5" x2="1562.5" y1="454.4219" y2="454.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1438.5" y="449.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1449.5" y="449.5654">create()</text><polygon fill="#A80036" points="1692.5,480.7734,1702.5,484.7734,1692.5,488.7734,1696.5,484.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1578.5" x2="1698.5" y1="484.7734" y2="484.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1585.5" y="479.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1596.5" y="479.917">create()</text><polygon fill="#A80036" points="704.5,541.125,694.5,545.125,704.5,549.125,700.5,545.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="698.5" x2="1425.5" y1="545.125" y2="545.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="710.5" y="540.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="728.5" y="540.2686">PedidoRepository</text><polygon fill="#A80036" points="1692.5,571.4766,1702.5,575.4766,1692.5,579.4766,1696.5,575.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1698.5" y1="575.4766" y2="575.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="570.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="718.5" y="570.6201">listaPedidos=getPedidos()</text><path d="M514.5,620.4766 L587.5,620.4766 L587.5,628.4766 L577.5,638.4766 L514.5,638.4766 L514.5,620.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="262.4609" style="stroke:#000000;stroke-width:2.0;" width="1942.5" x="514.5" y="620.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="529.5" y="634.9717">loop</text><polygon fill="#A80036" points="1809.5,657.1797,1819.5,661.1797,1809.5,665.1797,1813.5,661.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1815.5" y1="661.1797" y2="661.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="656.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="718.5" y="656.3232">fluxoResolucao()</text><path d="M1768.5,676.1797 L1829.5,676.1797 L1829.5,684.1797 L1819.5,694.1797 L1768.5,694.1797 L1768.5,676.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="269.5" x="1768.5" y="676.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="1783.5" y="690.6748">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111" x="1844.5" y="689.5986">[estado==Pendente]</text><polygon fill="#A80036" points="1951.5,712.8828,1961.5,716.8828,1951.5,720.8828,1955.5,716.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1831.5" x2="1957.5" y1="716.8828" y2="716.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1838.5" y="712.0264">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="1856.5" y="712.0264">tarefaAprovRes()</text><polygon fill="#A80036" points="2082,780.2344,2092,784.2344,2082,788.2344,2086,784.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="2088" y1="784.2344" y2="784.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="779.3779">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="718.5" y="779.3779">toDTO()</text><polygon fill="#A80036" points="2354,810.5859,2364,814.5859,2354,818.5859,2358,814.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2104" x2="2360" y1="814.5859" y2="814.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2111" y="809.7295">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="2129" y="809.7295">create</text><polygon fill="#A80036" points="704.5,870.9375,694.5,874.9375,704.5,878.9375,700.5,874.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="698.5" x2="2098" y1="874.9375" y2="874.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="710.5" y="870.0811">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="728.5" y="870.0811">TarefaAprovResDTO</text><polygon fill="#A80036" points="671.5,908.2891,681.5,912.2891,671.5,916.2891,675.5,912.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="677.5" y1="912.2891" y2="912.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="312.5" y="907.4326">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="341" x="330.5" y="907.4326">listaTarefasExecResDTO=getTarefasPendentesExecucao()</text><polygon fill="#A80036" points="898,938.6406,908,942.6406,898,946.6406,902,942.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="904" y1="942.6406" y2="942.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="937.7842">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="718.5" y="937.7842">authz=authorizationService()</text><polygon fill="#A80036" points="1036,998.9922,1046,1002.9922,1036,1006.9922,1040,1002.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1042" y1="1002.9922" y2="1002.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="998.1357">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="718.5" y="998.1357">userSession=session()</text><polygon fill="#A80036" points="1172,1059.3438,1182,1063.3438,1172,1067.3438,1176,1063.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1178" y1="1063.3438" y2="1063.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1058.4873">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="718.5" y="1058.4873">systemUser=authenticatedUser()</text><polygon fill="#A80036" points="1281,1119.6953,1291,1123.6953,1281,1127.6953,1285,1123.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1287" y1="1123.6953" y2="1123.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1118.8389">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="718.5" y="1118.8389">email= email()</text><polygon fill="#A80036" points="1409.5,1180.0469,1419.5,1184.0469,1409.5,1188.0469,1413.5,1184.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1415.5" y1="1184.0469" y2="1184.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1179.1904">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="718.5" y="1179.1904">repositories()</text><polygon fill="#A80036" points="1556.5,1210.3984,1566.5,1214.3984,1556.5,1218.3984,1560.5,1214.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1431.5" x2="1562.5" y1="1214.3984" y2="1214.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1438.5" y="1209.542">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1456.5" y="1209.542">create()</text><polygon fill="#A80036" points="1692.5,1240.75,1702.5,1244.75,1692.5,1248.75,1696.5,1244.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1578.5" x2="1698.5" y1="1244.75" y2="1244.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1585.5" y="1239.8936">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1603.5" y="1239.8936">create()</text><polygon fill="#A80036" points="704.5,1301.1016,694.5,1305.1016,704.5,1309.1016,700.5,1305.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="698.5" x2="1425.5" y1="1305.1016" y2="1305.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="710.5" y="1300.2451">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="728.5" y="1300.2451">PedidoRepository</text><polygon fill="#A80036" points="1692.5,1331.4531,1702.5,1335.4531,1692.5,1339.4531,1696.5,1335.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1698.5" y1="1335.4531" y2="1335.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1330.5967">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="718.5" y="1330.5967">listaPedidos=getPedidos()</text><path d="M514.5,1380.4531 L587.5,1380.4531 L587.5,1388.4531 L577.5,1398.4531 L514.5,1398.4531 L514.5,1380.4531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="262.4609" style="stroke:#000000;stroke-width:2.0;" width="2097.5" x="514.5" y="1380.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="529.5" y="1394.9482">loop</text><polygon fill="#A80036" points="1809.5,1417.1563,1819.5,1421.1563,1809.5,1425.1563,1813.5,1421.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="1815.5" y1="1421.1563" y2="1421.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1416.2998">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="718.5" y="1416.2998">fluxoResolucao()</text><path d="M1768.5,1436.1563 L1829.5,1436.1563 L1829.5,1444.1563 L1819.5,1454.1563 L1768.5,1454.1563 L1768.5,1436.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="78.7031" style="stroke:#000000;stroke-width:2.0;" width="269.5" x="1768.5" y="1436.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="1783.5" y="1450.6514">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111" x="1844.5" y="1449.5752">[estado==Pendente]</text><polygon fill="#A80036" points="1951.5,1472.8594,1961.5,1476.8594,1951.5,1480.8594,1955.5,1476.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1831.5" x2="1957.5" y1="1476.8594" y2="1476.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1838.5" y="1472.0029">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1856.5" y="1472.0029">tarefaExecRes()</text><polygon fill="#A80036" points="2210.5,1540.2109,2220.5,1544.2109,2210.5,1548.2109,2214.5,1544.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="2216.5" y1="1544.2109" y2="1544.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1539.3545">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="718.5" y="1539.3545">toDTO()</text><polygon fill="#A80036" points="2512.5,1570.5625,2522.5,1574.5625,2512.5,1578.5625,2516.5,1574.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2232.5" x2="2518.5" y1="1574.5625" y2="1574.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2239.5" y="1569.7061">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="2257.5" y="1569.7061">create</text><polygon fill="#A80036" points="704.5,1630.9141,694.5,1634.9141,704.5,1638.9141,700.5,1634.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="698.5" x2="2226.5" y1="1634.9141" y2="1634.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="710.5" y="1630.0576">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="728.5" y="1630.0576">TarefaExecResDTO</text><polygon fill="#A80036" points="78.5,1684.6172,68.5,1688.6172,78.5,1692.6172,74.5,1688.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="72.5" x2="299.5" y1="1688.6172" y2="1688.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="84.5" y="1675.585">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="102.5" y="1667.4092">apresenta as listas de tarefas e</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="106.5" y="1683.7607">permite a reivindicação de uma</text><path d="M10,1703.6172 L75,1703.6172 L75,1711.6172 L65,1721.6172 L10,1721.6172 L10,1703.6172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="368.6484" style="stroke:#000000;stroke-width:2.0;" width="2295" x="10" y="1703.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="25" y="1718.1123">opt</text><polygon fill="#A80036" points="283.5,1740.3203,293.5,1744.3203,283.5,1748.3203,287.5,1744.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="67.5" x2="289.5" y1="1744.3203" y2="1744.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="74.5" y="1739.4639">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="92.5" y="1739.4639">insere o id da tarefa</text><polygon fill="#A80036" points="671.5,1770.6719,681.5,1774.6719,671.5,1778.6719,675.5,1774.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="677.5" y1="1774.6719" y2="1774.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="312.5" y="1769.8154">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="330.5" y="1769.8154">reivindicarTarefa(id)</text><path d="M514.5,1789.6719 L575.5,1789.6719 L575.5,1797.6719 L565.5,1807.6719 L514.5,1807.6719 L514.5,1789.6719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="275.5938" style="stroke:#000000;stroke-width:2.0;" width="1780.5" x="514.5" y="1789.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="529.5" y="1804.167">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="99" x="590.5" y="1803.0908">[tarefa aprovacao]</text><polygon fill="#A80036" points="2082,1826.375,2092,1830.375,2082,1834.375,2086,1830.375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="2088" y1="1830.375" y2="1830.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1825.5186">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="718.5" y="1825.5186">definirColaboradorAtribuido(user)</text><polygon fill="#A80036" points="2082,1886.7266,2092,1890.7266,2082,1894.7266,2086,1890.7266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="2088" y1="1890.7266" y2="1890.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1885.8701">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="718.5" y="1885.8701">setEstado(atribuida)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="514.5" x2="2295" y1="1929.7266" y2="1929.7266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95" x="519.5" y="1941.1455">[tarefa execucao]</text><polygon fill="#A80036" points="2210.5,1962.9141,2220.5,1966.9141,2210.5,1970.9141,2214.5,1966.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="2216.5" y1="1966.9141" y2="1966.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="1962.0576">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="718.5" y="1962.0576">definirColaboradorAtribuido(user)</text><polygon fill="#A80036" points="2210.5,2023.2656,2220.5,2027.2656,2210.5,2031.2656,2214.5,2027.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="693.5" x2="2216.5" y1="2027.2656" y2="2027.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="700.5" y="2022.4092">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="718.5" y="2022.4092">setEstado(atribuida)</text><!--MD5=[99e6c40d21751b40262bff41b94f8e75]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor Colaborador as USER
participant "<<presentation>>\nConsultarReivindicarTarefasPendentesUI" as UI
participant "<<application>>\nConsultarReivindicarTarefasPendentesController" as CONTROLLER
participant "AuthzRegistry" as AUTHZ
participant "authz:\n AuthorizationService" AS AUTHZSERVICE
participant "userSession\n:UserSession" as USERSESSION
participant "systemUser:\n SystemUser" AS SYSTEMUSER
participant "<<persistance>>\nPersistenceContext" as PERS
participant "<<factory>>\nRepositoryFactory" as FACT
database "<<repository>>\nPedidoRepository" as REPO1
participant "<<domain>>\nPedido" as P
participant "<<domain>>\nFluxoResolucao" as FT
participant "<<domain>>\nTarefaAprovRes" as TA
participant "<<domain>>\nTarefaExecRes" as TR
participant "<<domain>>\nTarefaAprovResDTO" as DTO
participant "<<domain>>\nTarefaExecResDTO" as DTO2
collections "<<java interface>>\n listaTarefasAprovResDTO"
collections "<<java interface>>\n listaTarefasExecResDTO"

activate USER
    USER->UI: inicia o processo
        activate UI
            UI->CONTROLLER: listaTarefasAprovResDTO=getTarefasPendentesAprovacao()
            activate CONTROLLER
                CONTROLLER->AUTHZ : authz=authorizationService()
                activate AUTHZ
                deactivate AUTHZ
                CONTROLLER->AUTHZSERVICE :userSession=session()
                activate AUTHZSERVICE
                deactivate AUTHZSERVICE
                CONTROLLER->USERSESSION: systemUser=authenticatedUser()
                activate USERSESSION
                deactivate USERSESSION
                CONTROLLER-> SYSTEMUSER: email= email()
                activate SYSTEMUSER
                deactivate SYSTEMUSER
                  CONTROLLER->PERS: repositories()
                            activate PERS
                                PERS->FACT: create()
                                activate FACT
                                    FACT->REPO1: create()
                                    activate REPO1
                                    deactivate REPO1
                                deactivate FACT
                                PERS- ->CONTROLLER: PedidoRepository
                            deactivate PERS
                            CONTROLLER->REPO1: listaPedidos=getPedidos()
                            activate REPO1
                            deactivate REPO1
                            loop
                            CONTROLLER->P: fluxoResolucao()
                            activate P
                            alt estado==Pendente
                            P->FT: tarefaAprovRes()
                            activate FT
                            deactivate FT
                            end alt
                            deactivate P
                            CONTROLLER->TA: toDTO()
                            activate TA
                                TA->DTO:create
                                activate DTO
                                deactivate DTO
                                TA- ->CONTROLLER: TarefaAprovResDTO
                            deactivate TA
                            end loop

                deactivate CONTROLLER
                UI->CONTROLLER: listaTarefasExecResDTO=getTarefasPendentesExecucao()
                activate CONTROLLER
                    CONTROLLER->AUTHZ : authz=authorizationService()
                    activate AUTHZ
                    deactivate AUTHZ
                    CONTROLLER->AUTHZSERVICE :userSession=session()
                    activate AUTHZSERVICE
                    deactivate AUTHZSERVICE
                    CONTROLLER->USERSESSION: systemUser=authenticatedUser()
                    activate USERSESSION
                    deactivate USERSESSION
                    CONTROLLER-> SYSTEMUSER: email= email()
                    activate SYSTEMUSER
                    deactivate SYSTEMUSER
                      CONTROLLER->PERS: repositories()
                            activate PERS
                                PERS->FACT: create()
                                activate FACT
                                    FACT->REPO1: create()
                                    activate REPO1
                                    deactivate REPO1
                                deactivate FACT
                                    PERS- ->CONTROLLER: PedidoRepository
                                    deactivate PERS
                                    CONTROLLER->REPO1: listaPedidos=getPedidos()
                                    activate REPO1
                                    deactivate REPO1
                                    loop
                                    CONTROLLER->P: fluxoResolucao()
                                    activate P
                                    alt estado==Pendente
                                    P->FT: tarefaExecRes()
                                    activate FT
                                    deactivate FT
                                    end alt
                                    deactivate P
                                    CONTROLLER->TR: toDTO()
                                    activate TR
                                        TR->DTO2:create
                                        activate DTO2
                                        deactivate DTO2
                                        TR- ->CONTROLLER: TarefaExecResDTO
                                    deactivate TR
                                    end loop

            deactivate CONTROLLER
            UI- -> USER: apresenta as listas de tarefas e \n permite a reivindicação de uma
            deactivate UI

            opt
            USER->UI: insere o id da tarefa
            activate UI
                UI->CONTROLLER: reivindicarTarefa(id)
                activate CONTROLLER
                    alt tarefa aprovacao
                        CONTROLLER->TA: definirColaboradorAtribuido(user)
                        activate TA
                        deactivate TA
                        CONTROLLER->TA: setEstado(atribuida)
                        activate TA
                        deactivate TA
                    else tarefa execucao
                        CONTROLLER->TR: definirColaboradorAtribuido(user)
                        activate TR
                        deactivate TR
                        CONTROLLER->TR: setEstado(atribuida)
                        activate TR
                        deactivate TR
                    end alt
                deactivate CONTROLLER

            deactivate UI
            end opt





deactivate USER

@enduml

@startuml

autonumber

actor Colaborador as USER
participant "<<presentation>>\nConsultarReivindicarTarefasPendentesUI" as UI
participant "<<application>>\nConsultarReivindicarTarefasPendentesController" as CONTROLLER
participant "AuthzRegistry" as AUTHZ
participant "authz:\n AuthorizationService" AS AUTHZSERVICE
participant "userSession\n:UserSession" as USERSESSION
participant "systemUser:\n SystemUser" AS SYSTEMUSER
participant "<<persistance>>\nPersistenceContext" as PERS
participant "<<factory>>\nRepositoryFactory" as FACT
database "<<repository>>\nPedidoRepository" as REPO1
participant "<<domain>>\nPedido" as P
participant "<<domain>>\nFluxoResolucao" as FT
participant "<<domain>>\nTarefaAprovRes" as TA
participant "<<domain>>\nTarefaExecRes" as TR
participant "<<domain>>\nTarefaAprovResDTO" as DTO
participant "<<domain>>\nTarefaExecResDTO" as DTO2
collections "<<java interface>>\n listaTarefasAprovResDTO"
collections "<<java interface>>\n listaTarefasExecResDTO"

activate USER
    USER->UI: inicia o processo
        activate UI
            UI->CONTROLLER: listaTarefasAprovResDTO=getTarefasPendentesAprovacao()
            activate CONTROLLER
                CONTROLLER->AUTHZ : authz=authorizationService()
                activate AUTHZ
                deactivate AUTHZ
                CONTROLLER->AUTHZSERVICE :userSession=session()
                activate AUTHZSERVICE
                deactivate AUTHZSERVICE
                CONTROLLER->USERSESSION: systemUser=authenticatedUser()
                activate USERSESSION
                deactivate USERSESSION
                CONTROLLER-> SYSTEMUSER: email= email()
                activate SYSTEMUSER
                deactivate SYSTEMUSER
                  CONTROLLER->PERS: repositories()
                            activate PERS
                                PERS->FACT: create()
                                activate FACT
                                    FACT->REPO1: create()
                                    activate REPO1
                                    deactivate REPO1
                                deactivate FACT
                                PERS- ->CONTROLLER: PedidoRepository
                            deactivate PERS
                            CONTROLLER->REPO1: listaPedidos=getPedidos()
                            activate REPO1
                            deactivate REPO1
                            loop
                            CONTROLLER->P: fluxoResolucao()
                            activate P
                            alt estado==Pendente
                            P->FT: tarefaAprovRes()
                            activate FT
                            deactivate FT
                            end alt
                            deactivate P
                            CONTROLLER->TA: toDTO()
                            activate TA
                                TA->DTO:create
                                activate DTO
                                deactivate DTO
                                TA- ->CONTROLLER: TarefaAprovResDTO
                            deactivate TA
                            end loop

                deactivate CONTROLLER
                UI->CONTROLLER: listaTarefasExecResDTO=getTarefasPendentesExecucao()
                activate CONTROLLER
                    CONTROLLER->AUTHZ : authz=authorizationService()
                    activate AUTHZ
                    deactivate AUTHZ
                    CONTROLLER->AUTHZSERVICE :userSession=session()
                    activate AUTHZSERVICE
                    deactivate AUTHZSERVICE
                    CONTROLLER->USERSESSION: systemUser=authenticatedUser()
                    activate USERSESSION
                    deactivate USERSESSION
                    CONTROLLER-> SYSTEMUSER: email= email()
                    activate SYSTEMUSER
                    deactivate SYSTEMUSER
                      CONTROLLER->PERS: repositories()
                            activate PERS
                                PERS->FACT: create()
                                activate FACT
                                    FACT->REPO1: create()
                                    activate REPO1
                                    deactivate REPO1
                                deactivate FACT
                                    PERS- ->CONTROLLER: PedidoRepository
                                    deactivate PERS
                                    CONTROLLER->REPO1: listaPedidos=getPedidos()
                                    activate REPO1
                                    deactivate REPO1
                                    loop
                                    CONTROLLER->P: fluxoResolucao()
                                    activate P
                                    alt estado==Pendente
                                    P->FT: tarefaExecRes()
                                    activate FT
                                    deactivate FT
                                    end alt
                                    deactivate P
                                    CONTROLLER->TR: toDTO()
                                    activate TR
                                        TR->DTO2:create
                                        activate DTO2
                                        deactivate DTO2
                                        TR- ->CONTROLLER: TarefaExecResDTO
                                    deactivate TR
                                    end loop

            deactivate CONTROLLER
            UI- -> USER: apresenta as listas de tarefas e \n permite a reivindicação de uma
            deactivate UI

            opt
            USER->UI: insere o id da tarefa
            activate UI
                UI->CONTROLLER: reivindicarTarefa(id)
                activate CONTROLLER
                    alt tarefa aprovacao
                        CONTROLLER->TA: definirColaboradorAtribuido(user)
                        activate TA
                        deactivate TA
                        CONTROLLER->TA: setEstado(atribuida)
                        activate TA
                        deactivate TA
                    else tarefa execucao
                        CONTROLLER->TR: definirColaboradorAtribuido(user)
                        activate TR
                        deactivate TR
                        CONTROLLER->TR: setEstado(atribuida)
                        activate TR
                        deactivate TR
                    end alt
                deactivate CONTROLLER

            deactivate UI
            end opt





deactivate USER

@enduml

PlantUML version 1.2021.7(Sun May 23 13:40:07 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>